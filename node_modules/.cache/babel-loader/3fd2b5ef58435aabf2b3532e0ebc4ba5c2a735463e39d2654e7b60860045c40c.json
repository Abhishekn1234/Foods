{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Navbar,Container,Nav}from'react-bootstrap';import{toast}from'react-toastify';import{useNavigate,Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CustomNavbar=()=>{const[isLoggedIn,setIsLoggedIn]=useState(false);const[isAdminLoggedIn,setIsAdminLoggedIn]=useState(false);const[loading,setLoading]=useState(true);// Add loading state\nconst navigate=useNavigate();useEffect(()=>{const checkUserLoggedInStatus=()=>{const userToken=localStorage.getItem('token');setIsLoggedIn(!!userToken);};const checkAdminLoggedInStatus=()=>{const adminToken=localStorage.getItem('adminToken');setIsAdminLoggedIn(!!adminToken);};checkUserLoggedInStatus();checkAdminLoggedInStatus();setLoading(false);// Set loading to false once authentication status is checked\n},[]);const handleUserLogout=()=>{localStorage.removeItem('userEmail');localStorage.removeItem('Name');localStorage.removeItem('token');setIsLoggedIn(false);toast.success('User logout successful!');navigate('/login');};const handleAdminLogout=()=>{localStorage.removeItem('adminToken');setIsAdminLoggedIn(false);toast.success('Admin logout successful!');navigate('/admin-login');};if(loading)return null;// Return null while loading\nreturn/*#__PURE__*/_jsx(Navbar,{bg:\"light\",expand:\"lg\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Brand,{as:Link,to:\"/\",children:\"Food Rage\"}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[isLoggedIn&&!isAdminLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/orders\",children:\"My Orders\"}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/cart\",children:\"Cart\"}),/*#__PURE__*/_jsx(Nav.Link,{onClick:handleUserLogout,children:\"Logout\"})]}),isAdminLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/admin-dashboard\",children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/food-list\",children:\"Food List\"}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/user-activity\",children:\"User Activity\"}),/*#__PURE__*/_jsx(Nav.Link,{onClick:handleAdminLogout,children:\"Logout\"})]}),!isLoggedIn&&!isAdminLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/login\",children:\"User Login\"}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/admin-login\",children:\"Admin Login\"})]})]})})]})});};export default CustomNavbar;","map":{"version":3,"names":["React","useState","useEffect","Navbar","Container","Nav","toast","useNavigate","Link","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CustomNavbar","isLoggedIn","setIsLoggedIn","isAdminLoggedIn","setIsAdminLoggedIn","loading","setLoading","navigate","checkUserLoggedInStatus","userToken","localStorage","getItem","checkAdminLoggedInStatus","adminToken","handleUserLogout","removeItem","success","handleAdminLogout","bg","expand","children","Brand","as","to","Toggle","Collapse","id","className","onClick"],"sources":["C:/mern stack-project/Food ordering/frontend/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Navbar, Container, Nav } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\n\r\nconst CustomNavbar = () => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isAdminLoggedIn, setIsAdminLoggedIn] = useState(false);\r\n  const [loading, setLoading] = useState(true); // Add loading state\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const checkUserLoggedInStatus = () => {\r\n      const userToken = localStorage.getItem('token');\r\n      setIsLoggedIn(!!userToken);\r\n    };\r\n\r\n    const checkAdminLoggedInStatus = () => {\r\n      const adminToken = localStorage.getItem('adminToken');\r\n      setIsAdminLoggedIn(!!adminToken);\r\n    };\r\n\r\n    checkUserLoggedInStatus();\r\n    checkAdminLoggedInStatus();\r\n    setLoading(false); // Set loading to false once authentication status is checked\r\n  }, []);\r\n\r\n  const handleUserLogout = () => {\r\n    localStorage.removeItem('userEmail');\r\n    localStorage.removeItem('Name');\r\n    localStorage.removeItem('token');\r\n    setIsLoggedIn(false);\r\n    toast.success('User logout successful!');\r\n    navigate('/login');\r\n  };\r\n\r\n  const handleAdminLogout = () => {\r\n    localStorage.removeItem('adminToken');\r\n    setIsAdminLoggedIn(false);\r\n    toast.success('Admin logout successful!');\r\n    navigate('/admin-login');\r\n  };\r\n\r\n  if (loading) return null; // Return null while loading\r\n\r\n  return (\r\n    <Navbar bg=\"light\" expand=\"lg\">\r\n      <Container>\r\n        <Navbar.Brand as={Link} to=\"/\">Food Rage</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"me-auto\">\r\n            {isLoggedIn && !isAdminLoggedIn && (\r\n              <>\r\n                <Nav.Link as={Link} to=\"/orders\">My Orders</Nav.Link>\r\n                <Nav.Link as={Link} to=\"/cart\">Cart</Nav.Link>\r\n                <Nav.Link onClick={handleUserLogout}>Logout</Nav.Link>\r\n              </>\r\n            )}\r\n            {isAdminLoggedIn && (\r\n              <>\r\n                <Nav.Link as={Link} to=\"/admin-dashboard\">Admin Dashboard</Nav.Link>\r\n                <Nav.Link as={Link} to=\"/food-list\">Food List</Nav.Link>\r\n                <Nav.Link as={Link} to=\"/user-activity\">User Activity</Nav.Link>\r\n                <Nav.Link onClick={handleAdminLogout}>Logout</Nav.Link>\r\n              </>\r\n            )}\r\n            {!isLoggedIn && !isAdminLoggedIn && (\r\n              <>\r\n                <Nav.Link as={Link} to=\"/login\">User Login</Nav.Link>\r\n                <Nav.Link as={Link} to=\"/admin-login\">Admin Login</Nav.Link>\r\n              </>\r\n            )}\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default CustomNavbar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}