{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Navbar,Container,Nav,NavLink,NavbarToggle,NavbarCollapse}from'react-bootstrap';import{toast}from'react-toastify';import{useNavigate,Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CustomNavbar=()=>{const[isLoggedIn,setIsLoggedIn]=useState(false);const[loading,setLoading]=useState(true);// Add loading state\nconst navigate=useNavigate();useEffect(()=>{const checkUserLoggedInStatus=()=>{const userToken=localStorage.getItem('token');setIsLoggedIn(!!userToken);};checkUserLoggedInStatus();setLoading(false);// Set loading to false once authentication status is checked\n},[]);const handleUserLogout=()=>{localStorage.removeItem('userEmail');localStorage.removeItem('Name');localStorage.removeItem('token');setIsLoggedIn(false);toast.success('User logout successful!');navigate('/login');};if(loading)return null;// Return null while loading\nreturn/*#__PURE__*/_jsx(Navbar,{bg:\"light\",expand:\"lg\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Brand,{as:Link,to:\"/\",children:\"Food Rage\"}),/*#__PURE__*/_jsx(NavbarToggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(NavbarCollapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[isLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{as:Link,to:\"/orders\",children:\"My Orders\"}),/*#__PURE__*/_jsx(NavLink,{as:Link,to:\"/cart\",children:\"Cart\"}),/*#__PURE__*/_jsx(NavLink,{onClick:handleUserLogout,children:\"Logout\"})]}),!isLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{as:Link,to:\"/login\",children:\"User Login\"}),/*#__PURE__*/_jsx(NavLink,{as:Link,to:\"/signup\",children:\"User Signup\"})]})]})})]})});};export default CustomNavbar;","map":{"version":3,"names":["React","useState","useEffect","Navbar","Container","Nav","NavLink","NavbarToggle","NavbarCollapse","toast","useNavigate","Link","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CustomNavbar","isLoggedIn","setIsLoggedIn","loading","setLoading","navigate","checkUserLoggedInStatus","userToken","localStorage","getItem","handleUserLogout","removeItem","success","bg","expand","children","Brand","as","to","id","className","onClick"],"sources":["C:/mern stack-project/Food ordering/backend/frontend/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Navbar, Container, Nav, NavLink, NavbarToggle, NavbarCollapse } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { useNavigate, Link } from 'react-router-dom';\r\n\r\nconst CustomNavbar = () => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [loading, setLoading] = useState(true); // Add loading state\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const checkUserLoggedInStatus = () => {\r\n      const userToken = localStorage.getItem('token');\r\n      setIsLoggedIn(!!userToken);\r\n    };\r\n\r\n    checkUserLoggedInStatus();\r\n    setLoading(false); // Set loading to false once authentication status is checked\r\n  }, []);\r\n\r\n  const handleUserLogout = () => {\r\n    localStorage.removeItem('userEmail');\r\n    localStorage.removeItem('Name');\r\n    localStorage.removeItem('token');\r\n    setIsLoggedIn(false);\r\n    toast.success('User logout successful!');\r\n    navigate('/login');\r\n  };\r\n\r\n  if (loading) return null; // Return null while loading\r\n\r\n  return (\r\n    <Navbar bg=\"light\" expand=\"lg\">\r\n      <Container>\r\n        <Navbar.Brand as={Link} to=\"/\">Food Rage</Navbar.Brand>\r\n        <NavbarToggle aria-controls=\"basic-navbar-nav\" />\r\n        <NavbarCollapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"me-auto\">\r\n            {isLoggedIn && (\r\n              <>\r\n                <NavLink as={Link} to=\"/orders\">My Orders</NavLink>\r\n                <NavLink as={Link} to=\"/cart\">Cart</NavLink>\r\n                <NavLink onClick={handleUserLogout}>Logout</NavLink>\r\n              </>\r\n            )}\r\n            {!isLoggedIn && (\r\n              <>\r\n                <NavLink as={Link} to=\"/login\">User Login</NavLink>\r\n                <NavLink as={Link} to=\"/signup\">User Signup</NavLink>\r\n                {/* Removed Admin Login NavLink */}\r\n              </>\r\n            )}\r\n          </Nav>\r\n        </NavbarCollapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default CustomNavbar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}