{"ast":null,"code":"var _jsxFileName = \"C:\\\\mern stack-project\\\\Food ordering\\\\frontend\\\\src\\\\components\\\\admin\\\\UserActivity.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { CCard, CCardBody, CCardHeader } from '@coreui/react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell } from 'recharts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserActivity() {\n  _s();\n  const [userOrders, setUserOrders] = useState([]);\n  useEffect(() => {\n    async function fetchUserOrders() {\n      try {\n        const response = await axios.get('http://localhost:5000/orderss');\n        setUserOrders(response.data);\n      } catch (error) {\n        console.error('Error fetching user orders:', error);\n      }\n    }\n    fetchUserOrders();\n  }, []);\n\n  // Calculate total sales per user\n  const calculateTotalSalesPerUser = () => {\n    const totalSalesPerUser = {};\n    userOrders.forEach(order => {\n      const {\n        Name,\n        cartItems\n      } = order;\n      const totalSale = cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0);\n      if (totalSalesPerUser[Name]) {\n        totalSalesPerUser[Name] += totalSale;\n      } else {\n        totalSalesPerUser[Name] = totalSale;\n      }\n    });\n    return totalSalesPerUser;\n  };\n\n  // Prepare data for bar chart\n  const prepareBarChartData = () => {\n    const data = [];\n    const totalSalesPerUser = calculateTotalSalesPerUser();\n    for (const user in totalSalesPerUser) {\n      data.push({\n        name: user,\n        sales: totalSalesPerUser[user]\n      });\n    }\n    return data;\n  };\n\n  // Prepare data for pie chart\n  const preparePieChartData = () => {\n    const data = [];\n    const totalSalesPerUser = calculateTotalSalesPerUser();\n    for (const user in totalSalesPerUser) {\n      data.push({\n        name: user,\n        value: totalSalesPerUser[user]\n      });\n    }\n    return data;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"User Activity\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CCard, {\n      children: [/*#__PURE__*/_jsxDEV(CCardHeader, {\n        children: \"User Sales Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CCardBody, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-around',\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(BarChart, {\n            width: 400,\n            height: 300,\n            data: prepareBarChartData(),\n            children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n              strokeDasharray: \"3 3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n              dataKey: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Bar, {\n              dataKey: \"sales\",\n              fill: \"#8884d8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PieChart, {\n            width: 400,\n            height: 300,\n            children: [/*#__PURE__*/_jsxDEV(Pie, {\n              data: preparePieChartData(),\n              dataKey: \"value\",\n              nameKey: \"name\",\n              cx: \"50%\",\n              cy: \"50%\",\n              outerRadius: 80,\n              fill: \"#8884d8\",\n              label: true,\n              children: preparePieChartData().map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                fill: `#${Math.floor(Math.random() * 16777215).toString(16)}`\n              }, `cell-${index}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 63\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(UserActivity, \"+KJ2BdZVUDJbaVeEWE/t5XWvDXk=\");\n_c = UserActivity;\nvar _c;\n$RefreshReg$(_c, \"UserActivity\");","map":{"version":3,"names":["React","useEffect","useState","axios","CCard","CCardBody","CCardHeader","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","PieChart","Pie","Cell","jsxDEV","_jsxDEV","UserActivity","_s","userOrders","setUserOrders","fetchUserOrders","response","get","data","error","console","calculateTotalSalesPerUser","totalSalesPerUser","forEach","order","Name","cartItems","totalSale","reduce","acc","item","price","quantity","prepareBarChartData","user","push","name","sales","preparePieChartData","value","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","justifyContent","marginBottom","width","height","strokeDasharray","dataKey","fill","nameKey","cx","cy","outerRadius","label","map","entry","index","Math","floor","random","toString","_c","$RefreshReg$"],"sources":["C:/mern stack-project/Food ordering/frontend/src/components/admin/UserActivity.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { CCard, CCardBody, CCardHeader } from '@coreui/react';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, PieChart, Pie, Cell } from 'recharts';\r\n\r\nexport default function UserActivity() {\r\n  const [userOrders, setUserOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchUserOrders() {\r\n      try {\r\n        const response = await axios.get('http://localhost:5000/orderss');\r\n        setUserOrders(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching user orders:', error);\r\n      }\r\n    }\r\n  \r\n    fetchUserOrders();\r\n  }, []);\r\n\r\n  // Calculate total sales per user\r\n  const calculateTotalSalesPerUser = () => {\r\n    const totalSalesPerUser = {};\r\n    userOrders.forEach(order => {\r\n      const { Name, cartItems } = order;\r\n      const totalSale = cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0);\r\n      if (totalSalesPerUser[Name]) {\r\n        totalSalesPerUser[Name] += totalSale;\r\n      } else {\r\n        totalSalesPerUser[Name] = totalSale;\r\n      }\r\n    });\r\n    return totalSalesPerUser;\r\n  };\r\n\r\n  // Prepare data for bar chart\r\n  const prepareBarChartData = () => {\r\n    const data = [];\r\n    const totalSalesPerUser = calculateTotalSalesPerUser();\r\n    for (const user in totalSalesPerUser) {\r\n      data.push({ name: user, sales: totalSalesPerUser[user] });\r\n    }\r\n    return data;\r\n  };\r\n\r\n  // Prepare data for pie chart\r\n  const preparePieChartData = () => {\r\n    const data = [];\r\n    const totalSalesPerUser = calculateTotalSalesPerUser();\r\n    for (const user in totalSalesPerUser) {\r\n      data.push({ name: user, value: totalSalesPerUser[user] });\r\n    }\r\n    return data;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>User Activity</h1>\r\n      <CCard>\r\n        <CCardHeader>\r\n          User Sales Summary\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          <div style={{ display: 'flex', justifyContent: 'space-around', marginBottom: '20px' }}>\r\n            <BarChart width={400} height={300} data={prepareBarChartData()}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis dataKey=\"name\" />\r\n              <YAxis />\r\n              <Tooltip />\r\n              <Legend />\r\n              <Bar dataKey=\"sales\" fill=\"#8884d8\" />\r\n            </BarChart>\r\n            <PieChart width={400} height={300}>\r\n              <Pie data={preparePieChartData()} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={80} fill=\"#8884d8\" label>\r\n                {\r\n                  preparePieChartData().map((entry, index) => <Cell key={`cell-${index}`} fill={`#${Math.floor(Math.random() * 16777215).toString(16)}`} />)\r\n                }\r\n              </Pie>\r\n              <Tooltip />\r\n              <Legend />\r\n            </PieChart>\r\n          </div>\r\n        </CCardBody>\r\n      </CCard>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}