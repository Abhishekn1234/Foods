{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Table,Button,Modal,Form}from\"react-bootstrap\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Orders(){const[orders,setOrders]=useState([]);const[totalPrice,setTotalPrice]=useState(0);const[selectedOrder,setSelectedOrder]=useState(null);const[showModal,setShowModal]=useState(false);const[showPaymentModal,setShowPaymentModal]=useState(false);const[paymentMethod,setPaymentMethod]=useState(\"razorpay\");// Default payment method\nconst loadScript=(src,callback)=>{const script=document.createElement(\"script\");script.src=src;script.onload=()=>{if(callback)callback();};document.body.appendChild(script);};useEffect(()=>{// Load Razorpay script dynamically when the component mounts\nloadScript(\"https://checkout.razorpay.com/v1/checkout.js\",()=>{console.log(\"Razorpay script loaded\");});},[]);const fetchOrders=async()=>{try{const userEmail=localStorage.getItem(\"userEmail\");const userName=localStorage.getItem(\"Name\");if(!userEmail||!userName){console.error(\"User email or name not found in localStorage\");return;}const response=await axios.get(\"http://localhost:5000/orders\",{headers:{userEmail,userName}});const userOrders=response.data.filter(order=>order.email===userEmail&&order.Name===userName);const totalPrice=userOrders.reduce((acc,order)=>acc+totalOrderPrice(order.cartItems),0);setOrders(userOrders);setTotalPrice(totalPrice);}catch(error){console.error(\"Error fetching orders:\",error);}};useEffect(()=>{fetchOrders();},[]);const totalOrderPrice=cartItems=>{return cartItems.reduce((acc,item)=>{const itemPrice=item.option?item.option.price:item.price;return acc+itemPrice*item.quantity;},0);};const handleViewDetails=order=>{setSelectedOrder(order);setShowModal(true);};const handleCloseModal=()=>{setShowModal(false);};const handleDeleteOrder=async orderId=>{try{await axios.delete(\"http://localhost:5000/orders/\".concat(orderId));const updatedOrders=orders.filter(order=>order._id!==orderId);const totalPriceAfterDelete=updatedOrders.reduce((acc,order)=>acc+totalOrderPrice(order.cartItems),0);setOrders(updatedOrders);setTotalPrice(totalPriceAfterDelete);alert(\"Order deleted successfully!\");}catch(error){console.error(\"Error deleting order:\",error);alert(\"Failed to delete order. Please try again later.\");}};const handlePaymentSuccess=async()=>{try{const userEmail=localStorage.getItem(\"userEmail\");const userName=localStorage.getItem(\"Name\");// Make a POST request to your backend endpoint to initiate Razorpay payment\nconst response=await axios.post(\"http://localhost:5000/payment/razorpay\",{amount:totalPrice*100,// Amount in paisa (multiply by 100 to convert to paisa)\ncurrency:\"INR\",userEmail,userName,cartItems:orders.length>0?orders[0].cartItems:[]// Assuming cartItems is an array of items\n});// Handle the response from the backend\nif(response.status===200){const{orderId,razorpayDetails}=response.data;// Redirect the user to the Razorpay checkout page\nconst options={key:\"rzp_live_dDHVgHh9Ks59E7\",// Replace with your Razorpay key ID\namount:totalPrice*100,// Amount in paisa (multiply by 100 to convert to paisa)\ncurrency:\"INR\",order_id:orderId,handler:function(response){// Handle payment success\nalert(\"Payment successful!\");console.log(response);console.log(razorpayDetails);},prefill:{email:userEmail},theme:{color:\"#F37254\"}};const rzp1=new window.Razorpay(options);rzp1.open();}else{console.error(\"Unexpected response:\",response);alert(\"Payment failed. Unexpected response from the server.\");}}catch(error){console.error(\"Error processing payment:\",error);alert(\"Payment failed. Please try again later.\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Orders\"}),orders.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Order ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:order.cartItems.map(item=>/*#__PURE__*/_jsx(\"div\",{children:item.name},item._id))}),/*#__PURE__*/_jsx(\"td\",{children:order.cartItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{children:[\"$\",item.option?item.option.price*item.quantity:item.price*item.quantity]},item._id))}),/*#__PURE__*/_jsx(\"td\",{children:order.cartItems.map(item=>/*#__PURE__*/_jsx(\"div\",{children:item.quantity},item._id))}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",totalOrderPrice(order.cartItems)]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"info\",onClick:()=>handleViewDetails(order),children:\"View Details\"}),\" \",/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:()=>handleDeleteOrder(order._id),children:\"Delete\"})]})]},order._id))})]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Total Price of All Orders: $\",totalPrice]}),/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:()=>setShowPaymentModal(true),children:\"Make Payment\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No orders placed yet.\"}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:handleCloseModal,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Order Details\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Order ID:\"}),\" \",selectedOrder&&selectedOrder._id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Product Name:\"}),\" \",selectedOrder&&selectedOrder.cartItems[0].name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" $\",selectedOrder&&totalOrderPrice(selectedOrder.cartItems)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quantity:\"}),\" \",selectedOrder&&selectedOrder.cartItems.reduce((total,item)=>total+item.quantity,0)]})]}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseModal,children:\"Close\"})})]}),/*#__PURE__*/_jsxs(Modal,{show:showPaymentModal,onHide:()=>setShowPaymentModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Make Payment\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"paymentMethod\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Select Payment Method\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:paymentMethod,onChange:e=>setPaymentMethod(e.target.value),children:/*#__PURE__*/_jsx(\"option\",{value:\"razorpay\",children:\"Razorpay\"})})]})})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowPaymentModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsxs(Button,{variant:\"primary\",onClick:handlePaymentSuccess,children:[\"Pay $\",totalPrice]})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","Table","Button","Modal","Form","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Orders","orders","setOrders","totalPrice","setTotalPrice","selectedOrder","setSelectedOrder","showModal","setShowModal","showPaymentModal","setShowPaymentModal","paymentMethod","setPaymentMethod","loadScript","src","callback","script","document","createElement","onload","body","appendChild","console","log","fetchOrders","userEmail","localStorage","getItem","userName","error","response","get","headers","userOrders","data","filter","order","email","Name","reduce","acc","totalOrderPrice","cartItems","item","itemPrice","option","price","quantity","handleViewDetails","handleCloseModal","handleDeleteOrder","orderId","delete","concat","updatedOrders","_id","totalPriceAfterDelete","alert","handlePaymentSuccess","post","amount","currency","length","status","razorpayDetails","options","key","order_id","handler","prefill","theme","color","rzp1","window","Razorpay","open","children","striped","bordered","hover","map","name","variant","onClick","show","onHide","Header","closeButton","Title","Body","total","Footer","Group","controlId","Label","Control","as","value","onChange","e","target"],"sources":["C:/mern stack-project/Food ordering/frontend/src/components/Orders.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Table, Button, Modal, Form } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Orders() {\r\n  const [orders, setOrders] = useState([]);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [selectedOrder, setSelectedOrder] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\r\n  const [paymentMethod, setPaymentMethod] = useState(\"razorpay\"); // Default payment method\r\n  const loadScript = (src, callback) => {\r\n    const script = document.createElement(\"script\");\r\n    script.src = src;\r\n    script.onload = () => {\r\n      if (callback) callback();\r\n    };\r\n    document.body.appendChild(script);\r\n  };\r\n  useEffect(() => {\r\n    // Load Razorpay script dynamically when the component mounts\r\n    loadScript(\"https://checkout.razorpay.com/v1/checkout.js\", () => {\r\n      console.log(\"Razorpay script loaded\");\r\n    });\r\n  }, []);\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      const userEmail = localStorage.getItem(\"userEmail\");\r\n      const userName = localStorage.getItem(\"Name\");\r\n\r\n      if (!userEmail || !userName) {\r\n        console.error(\"User email or name not found in localStorage\");\r\n        return;\r\n      }\r\n\r\n      const response = await axios.get(\"http://localhost:5000/orders\", {\r\n        headers: {\r\n          userEmail,\r\n          userName,\r\n        },\r\n      });\r\n\r\n      const userOrders = response.data.filter(\r\n        (order) => order.email === userEmail && order.Name === userName\r\n      );\r\n      const totalPrice = userOrders.reduce(\r\n        (acc, order) => acc + totalOrderPrice(order.cartItems),\r\n        0\r\n      );\r\n\r\n      setOrders(userOrders);\r\n      setTotalPrice(totalPrice);\r\n    } catch (error) {\r\n      console.error(\"Error fetching orders:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  const totalOrderPrice = (cartItems) => {\r\n    return cartItems.reduce((acc, item) => {\r\n      const itemPrice = item.option ? item.option.price : item.price;\r\n      return acc + itemPrice * item.quantity;\r\n    }, 0);\r\n  };\r\n\r\n  const handleViewDetails = (order) => {\r\n    setSelectedOrder(order);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  const handleDeleteOrder = async (orderId) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/orders/${orderId}`);\r\n      const updatedOrders = orders.filter((order) => order._id !== orderId);\r\n      const totalPriceAfterDelete = updatedOrders.reduce(\r\n        (acc, order) => acc + totalOrderPrice(order.cartItems),\r\n        0\r\n      );\r\n\r\n      setOrders(updatedOrders);\r\n      setTotalPrice(totalPriceAfterDelete);\r\n\r\n      alert(\"Order deleted successfully!\");\r\n    } catch (error) {\r\n      console.error(\"Error deleting order:\", error);\r\n      alert(\"Failed to delete order. Please try again later.\");\r\n    }\r\n  };\r\n\r\n  const handlePaymentSuccess = async () => {\r\n    try {\r\n      const userEmail = localStorage.getItem(\"userEmail\");\r\n      const userName = localStorage.getItem(\"Name\");\r\n\r\n      // Make a POST request to your backend endpoint to initiate Razorpay payment\r\n      const response = await axios.post(\"http://localhost:5000/payment/razorpay\", {\r\n        amount: totalPrice * 100, // Amount in paisa (multiply by 100 to convert to paisa)\r\n        currency: \"INR\",\r\n        userEmail,\r\n        userName,\r\n        cartItems: orders.length > 0 ? orders[0].cartItems : [], // Assuming cartItems is an array of items\r\n      });\r\n\r\n      // Handle the response from the backend\r\n      if (response.status === 200) {\r\n        const { orderId, razorpayDetails } = response.data;\r\n\r\n        // Redirect the user to the Razorpay checkout page\r\n        const options = {\r\n          key: \"rzp_live_dDHVgHh9Ks59E7\", // Replace with your Razorpay key ID\r\n          amount: totalPrice * 100, // Amount in paisa (multiply by 100 to convert to paisa)\r\n          currency: \"INR\",\r\n          order_id: orderId,\r\n          handler: function (response) {\r\n            // Handle payment success\r\n            alert(\"Payment successful!\");\r\n            console.log(response);\r\n            console.log(razorpayDetails);\r\n          },\r\n          prefill: {\r\n            email: userEmail,\r\n          },\r\n          theme: {\r\n            color: \"#F37254\",\r\n          },\r\n        };\r\n\r\n        const rzp1 = new window.Razorpay(options);\r\n        rzp1.open();\r\n      } else {\r\n        console.error(\"Unexpected response:\", response);\r\n        alert(\"Payment failed. Unexpected response from the server.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error processing payment:\", error);\r\n      alert(\"Payment failed. Please try again later.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Orders</h1>\r\n      {orders.length > 0 ? (\r\n        <>\r\n          <Table striped bordered hover>\r\n            <thead>\r\n              <tr>\r\n                <th>Order ID</th>\r\n                <th>Product Name</th>\r\n                <th>Price</th>\r\n                <th>Quantity</th>\r\n                <th>Total Price</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {orders.map((order) => (\r\n                <tr key={order._id}>\r\n                  <td>{order._id}</td>\r\n                  <td>\r\n                    {order.cartItems.map((item) => (\r\n                      <div key={item._id}>{item.name}</div>\r\n                    ))}\r\n                  </td>\r\n                  <td>\r\n                    {order.cartItems.map((item) => (\r\n                      <div key={item._id}>\r\n                        $\r\n                        {item.option\r\n                          ? item.option.price * item.quantity\r\n                          : item.price * item.quantity}\r\n                      </div>\r\n                    ))}\r\n                  </td>\r\n                  <td>\r\n                    {order.cartItems.map((item) => (\r\n                      <div key={item._id}>{item.quantity}</div>\r\n                    ))}\r\n                  </td>\r\n                  <td>${totalOrderPrice(order.cartItems)}</td>\r\n                  <td>\r\n                    <Button\r\n                      variant=\"info\"\r\n                      onClick={() => handleViewDetails(order)}\r\n                    >\r\n                      View Details\r\n                    </Button>{\" \"}\r\n                    <Button\r\n                      variant=\"danger\"\r\n                      onClick={() => handleDeleteOrder(order._id)}\r\n                    >\r\n                      Delete\r\n                    </Button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n          <h2>Total Price of All Orders: ${totalPrice}</h2>\r\n          <Button variant=\"success\" onClick={() => setShowPaymentModal(true)}>\r\n            Make Payment\r\n          </Button>\r\n        </>\r\n      ) : (\r\n        <p>No orders placed yet.</p>\r\n      )}\r\n\r\n      <Modal show={showModal} onHide={handleCloseModal}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Order Details</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>\r\n            <strong>Order ID:</strong> {selectedOrder && selectedOrder._id}\r\n          </p>\r\n          <p>\r\n            <strong>Product Name:</strong>{\" \"}\r\n            {selectedOrder && selectedOrder.cartItems[0].name}\r\n          </p>\r\n          <p>\r\n            <strong>Price:</strong> $\r\n            {selectedOrder && totalOrderPrice(selectedOrder.cartItems)}\r\n          </p>\r\n          <p>\r\n            <strong>Quantity:</strong>{\" \"}\r\n            {selectedOrder &&\r\n              selectedOrder.cartItems.reduce(\r\n                (total, item) => total + item.quantity,\r\n                0\r\n              )}\r\n          </p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleCloseModal}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <Modal show={showPaymentModal} onHide={() => setShowPaymentModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Make Payment</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form>\r\n            <Form.Group controlId=\"paymentMethod\">\r\n              <Form.Label>Select Payment Method</Form.Label>\r\n              <Form.Control\r\n                as=\"select\"\r\n                value={paymentMethod}\r\n                onChange={(e) => setPaymentMethod(e.target.value)}\r\n              >\r\n                <option value=\"razorpay\">Razorpay</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => setShowPaymentModal(false)}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handlePaymentSuccess}>\r\n            Pay ${totalPrice}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}